<div class="container">
    <h3 class="my-3">Arma tu orden de Fries:</h3>

    <div>
        <h2 class="text-center mt-4">PASO 1</h2>
        <p class="text-center"> 
            Elige tu rocket favorito, agrega porciones extra si tienes muchas hambre
        </p>
    </div>
    
    <form #formFriesOrder="ngForm" (ngSubmit)="onSubmit(formFriesOrder)" class="set">

        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="portion">Escoge tu porción*:</label>
            <div class="col-sm-3 pt-3">
                <select class="custom-select" name="portion" #portion="ngModel" [(ngModel)]="friesOrder.fPortion" (change)="onChangePortion()" required>
                    <option *ngFor="let portionItem of portions" [ngValue]="portionItem" >${{portionItem.price}}    /   {{portionItem.name}}</option>
                </select>
                <span class="text-danger" *ngIf="!(friesOrder.fPortion.price > 0) && portion.touched">Selecciona al menos una opción</span>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-sm-2 pt-2">Quieres una porción extra?</div>
            <div class="col-sm-10 pt-2">
                <div class="form-check">
                <input class="form-check-input" type="checkbox" name="boolExtraPortion" [(ngModel)]="friesOrder.fExtraPortion" (change)="onChangeBooleanExtraPortion()">
                <label class="form-check-label" for="boolExtraPortion">
                    Si quiero
                </label>
                </div>
            </div>
        </div>

        <div class="form-group row" *ngIf="friesOrder.fExtraPortion">
            <label class="col-sm-2 col-form-label" for="extraPortion" >Agrega las porciones extra que quieras:</label>
            <div class="col-sm-3 pt-3">
                <select class="custom-select" name="extraPortion" #extraPOrtion="ngModel" [(ngModel)]="extraPortionOrder">
                    <option *ngFor="let extraPortionItem of extraPortions" [ngValue]="extraPortionItem" >${{extraPortionItem.price}}    /  {{extraPortionItem.name}}</option>
                </select>
                <span class="text-danger" *ngIf="!(extraPortionOrder.price > 0) && extraPOrtion.touched">Selecciona al menos una opción</span>
            </div>
            <div class="col-sm-2 extraPortionButton d-flex justify-content-around" *ngIf="extraPortionOrder">
                <div (click)="addOnePortion()" class="plus"></div>
                <div (click)="deleteOnePortion()" class="minus"></div>
            </div>
            <div class="col-sm-2 d-flex justify-content-start pt-3">
                <ul class="list pl-0">
                    <li *ngFor="let extraPortionQ of extraPortionOrdersQuantity"><span *ngIf="extraPortionQ.quantity > 0">{{extraPortionQ.quantity}} X {{extraPortionQ.extraPortionName}}</span></li>
                </ul>
            </div>
        </div>

        <!-- PASO 2 -->
        <div class="mb-4">
            <h2 class="text-center">PASO 2</h2>
            <p class="text-center"> 
                Pon tu creatividad a trabajar e inventa tu combinacion con nuestros aderezos
            </p>
        </div>

        <fieldset class="form-group">
            <div class="row">
                <legend class="col-form-label col-sm-2 pt-0">Selecciona los aderezos que gustes:</legend>

                <!--Dressings-->
                <div class="col-sm-6 d-flex justify-content-around">
                    <div>
                        <!--1 part-->
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolQuesoAmarillo" [(ngModel)]="friesOrder.fDressingsOrder.quesoAmarillo">
                            <label class="form-check-label" for="boolQuesoAmarillo">
                                Queso amarillo
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolSalsaBuffalo" [(ngModel)]="friesOrder.fDressingsOrder.salsaBuffalo">
                            <label class="form-check-label" for="boolSalsaBuffalo">
                                Salsa Buffalo
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolRanch" [(ngModel)]="friesOrder.fDressingsOrder.ranch">
                            <label class="form-check-label" for="boolRanch">
                                Ranch
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolCilantro" [(ngModel)]="friesOrder.fDressingsOrder.cilantro">
                            <label class="form-check-label" for="boolCilantro">
                                Cilantro
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolPinaHabanero" [(ngModel)]="friesOrder.fDressingsOrder.pinaHabanero">
                            <label class="form-check-label" for="boolPinaHabanero">
                                Piña habanero
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolSalsaBBQ" [(ngModel)]="friesOrder.fDressingsOrder.salsaBBQ">
                            <label class="form-check-label" for="boolSalsaBBQ">
                                Salsa BBQ
                            </label>
                        </div>
                        <!--End Part 1-->
                    </div>

                    <div>
                        <!--Part 2-->
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolKetchup" [(ngModel)]="friesOrder.fDressingsOrder.ketchup">
                            <label class="form-check-label" for="boolKetchup">
                                Ketchup
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolChimichurri" [(ngModel)]="friesOrder.fDressingsOrder.chimichurri">
                            <label class="form-check-label" for="boolChimichurri">
                                Chimichurri
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolTamarindoPicante" [(ngModel)]="friesOrder.fDressingsOrder.tamarindoPicante">
                            <label class="form-check-label" for="boolTamarindoPicante">
                                Tamarindo Picante
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolSalsaVerde" [(ngModel)]="friesOrder.fDressingsOrder.salsaVerde">
                            <label class="form-check-label" for="boolSalsaVerde">
                                Salsa Verde
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="boolCebollitaAsada" [(ngModel)]="friesOrder.fDressingsOrder.cebollaAsada">
                            <label class="form-check-label" for="boolCebollitaAsada">
                                Cebollita Asada
                            </label>
                        </div>
                        <!--End Part 2-->
                    </div>
                </div>

            </div>
        </fieldset>

        <div class="form-group row">
          <div class="col-sm-10">
            <button type="submit" class="btn btn-primary" [disabled]="!(friesOrder.fPortion.price && friesOrder.fPortion.price>0)">Agregar orden</button>
          </div>
        </div>

    </form>

    <div class="footer">
        <div>Esta orden: $ {{friesOrder.fPrice}}</div>
        <div><a [routerLink]="['/detail']" class="text-decoration-none text-light" >Ver Pedido / Total: $ {{totalPrice}}</a></div>
    </div>
        
</div>